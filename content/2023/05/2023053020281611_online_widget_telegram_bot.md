---
title: "Архитектура онлайн-виджета на сайте"
date: 2023-05-30T20:28:16+03:00
description: ""
tags: []
ShowToc: true
ShowBreadCrumbs: true
draft: false
---
# Архитектура онлайн-виджета на сайте
## Описание
Добрый вечер!
Недавно я прочитал серию статей на Хабре, где разработчик запилил виджет для сайта типа jivo, который общается с телегой.
Я подумал, что было бы интересно разобрать этот проект как архитектурный этюд.
Эта статья посвящена архитектуре
https://habr.com/ru/articles/723412/
Он пишет, что бывают сайты, у которых проходимость 100 000 посетителей в день и им часто пишет параллельно 5-10 пользователей.
Для таких сайтов, к сожалению, в целом Telegram не подойдет и у них сообщения действительно будут тормозить. В таком случае я говорю прямо, что со мной в рамках их задач работать будет неудобно.
Вот мне интересно так ли это или можно решить это? Например группируя сообщения в течение небольшого интервала, а потом уже отправляя в телегу?
Далее он пишет, что есть ограничение на отправку 40 сообщений в секунду во все чаты на одного бота, и что это возможная проблема в будущем. Также он написал, что подготовил набросок решения в виде подключения новых ботов и их балансировки.
Кажется, что это уже частичное решение проблемы выше?
Также было бы интересно разобрать альтернативные подходы к созданию такого виджета.

## Решение
Зарегистрировать N ботов и организовать одновременную привязку 40 пользователей к 1 боту.

Плюсы:
- Самое простое решение из доступных

Минусы:
- Нужно регистрировать N ботов, сомнительный UX при переписке в телеграмме (не через виджет на сайте)